<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <h1>The Psychic Game</h1>
    <p>Guess what letter I am thinking of...</p>
    <p id="game">
        Begin the game by choosing any letter. Maybe you'll be lucky and we choose the same from the start ;)
    </p>
    <script>
        var computerChoices = "abcdefghijklmnopqrstuvwxyz";
        var game = function () {
            computerGuess = computerChoices.charAt(Math.floor(Math.random() * computerChoices.length))
        }

        computerGuess = computerChoices.charAt(Math.floor(Math.random() * computerChoices.length))

        var wins = 0;
        var losses = 0;
        var guessesLeft = 9;
        var reset = function () {
            game();
            userGuesses = [];
            guessesLeft = 9;
        }

        var userGuesses = [];

        document.onkeyup = function (evt) {

            evt = evt || window.event;

            // Ensure we only handle printable keys
            var charCode = typeof evt.which == "number" ? evt.which : evt.keyCode;

            if (charCode) {
                userGuesses.push(String.fromCharCode(charCode));
            }

            var userGuess = String.fromCharCode(event.keyCode).toLowerCase();

            if (userGuess === computerGuess) {
                wins++;
                reset();

            }
            else if (userGuess !== computerGuess) {
                guessesLeft--;
            }
            else if (guessesLeft < 1) {
                losses++;
                reset();

            }
            var html =
                "<p>Wins: " + wins + "</p>" +
                "<p>Losses: " + losses + "</p>" +
                "<p>Your Guesses so far: " + userGuesses + "</p>" +
                "<p>Guesses left: " + guessesLeft + "</p>";

            document.getElementById("game").innerHTML = html;

            console.log(computerGuess);
            console.log(userGuess);
        }

    </script>
</body>

</html>